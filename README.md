# zbx-bird2
Bird2 bgp daemon monitoring

Шаблон мониторинга Bird2 для заббикса версий 6.4+

Работа осуществляется через UserParameter, который вытаскивает командами birdc show proto информацию о состояниях поднятых bgp-протоколов (UserParameter описан в bird2-zabbix.conf - его можно сразу кидать в каталог zabbix_agentd.d).

Для корректного мониторинга времени в конфигурацию bird'а нужно добавить строчки задания формата времени (из файла репозитория to_bird-conf)

Если хочется контролировать число полученных/анонсированных маршрутов, то нужно добавить запуск по крону скрипта bird-peer-info-routes.sh и проверить, что ему разрешена запись в /tmp (ну мало ли). Частота запуска - на ваше усмотрение, я ставлю 3-4 минуты (ну просто чтобы каждую минуту не дергать состояние каждой сессии).

bird-peer-info.pl взят из чьего-то чужого репозитория, но уже слишком давно, чтобы помнить, откуда, увы.
